<!-- Operation Definitions -->
<registry>

    <records interface="plone.app.collection.interfaces.IQueryOperation"
             prefix="plone.app.collection.operation.boolean.isTrue">
        <value key="title">Yes</value>
        <value key="description"></value>
        <value key="operation">plone.app.collection.queryparser:_isTrue</value>
        <value key="widget"></value>
    </records>

    <records interface="plone.app.collection.interfaces.IQueryOperation"
             prefix="plone.app.collection.operation.boolean.isFalse">
        <value key="title">No</value>
        <value key="description"></value>
        <value key="operation">plone.app.collection.queryparser:_isFalse</value>
        <value key="widget"></value>
    </records>

    <records interface="plone.app.collection.interfaces.IQueryOperation"
             prefix="plone.app.collection.operation.int.is">
        <value key="title">Equals</value>
        <value key="description"></value>
        <value key="operation">plone.app.collection.queryparser:_equal</value>
        <value key="widget">StringWidget</value>
    </records>

    <records interface="plone.app.collection.interfaces.IQueryOperation"
             prefix="plone.app.collection.operation.int.lessThan">
        <value key="title">Less than</value>
        <value key="description"></value>
        <value key="operation">plone.app.collection.queryparser:_lessThan</value>
        <value key="widget">StringWidget</value>
    </records>

    <records interface="plone.app.collection.interfaces.IQueryOperation"
             prefix="plone.app.collection.operation.int.largerThan">
        <value key="title">Larger than</value>
        <value key="description"></value>
        <value key="operation">plone.app.collection.queryparser:_largerThan</value>
        <value key="widget">StringWidget</value>
    </records>
 
    <records interface="plone.app.collection.interfaces.IQueryOperation"
             prefix="plone.app.collection.operation.date.lessThan">
        <value key="title">Before date</value>
        <value key="description">Please use YYYY/MM/DD.</value>
        <value key="operation">plone.app.collection.queryparser:_lessThan</value>
        <value key="widget">DateWidget</value>
    </records>

    <records interface="plone.app.collection.interfaces.IQueryOperation"
             prefix="plone.app.collection.operation.date.largerThan">
        <value key="title">After date</value>
        <value key="description">Please use YYYY/MM/DD.</value>
        <value key="operation">plone.app.collection.queryparser:_largerThan</value>
        <value key="widget">DateWidget</value>
    </records>

    <records interface="plone.app.collection.interfaces.IQueryOperation"
             prefix="plone.app.collection.operation.date.between">
        <value key="title">Between dates</value>
        <value key="description">Please use YYYY/MM/DD.</value>
        <value key="operation">plone.app.collection.queryparser:_between</value>
        <value key="widget">DateRangeWidget</value>
    </records>
    
    <records interface="plone.app.collection.interfaces.IQueryOperation"
             prefix="plone.app.collection.operation.date.lessThanRelativeDate">
        <value key="title">More recently than</value>
        <value key="description"></value>
        <value key="operation">plone.app.collection.queryparser:_lessThanRelativeDate</value>
        <value key="widget">DateWidget</value>
    </records>

    <records interface="plone.app.collection.interfaces.IQueryOperation"
             prefix="plone.app.collection.operation.date.largerThanRelativeDate">
        <value key="title">Older than</value>
        <value key="description">Please use YYYY/MM/DD.</value>
        <value key="operation">plone.app.collection.queryparser:_moreThanRelativeDate</value>
        <value key="widget">DateWidget</value>
    </records>

    <records interface="plone.app.collection.interfaces.IQueryOperation"
             prefix="plone.app.collection.operation.list.contains">
        <value key="title">Contains</value>
        <value key="description"></value>
        <value key="operation">plone.app.collection.queryparser:_contains</value>
        <value key="widget">ReferenceWidget</value>
    </records>

    <records interface="plone.app.collection.interfaces.IQueryOperation"
             prefix="plone.app.collection.operation.path.isWithin">
        <value key="title">Is within</value>
        <value key="description"></value>
        <value key="operation">plone.app.collection.queryparser:_pathContains</value>
        <value key="widget">ReferenceWidget</value>
    </records>

    <records interface="plone.app.collection.interfaces.IQueryOperation"
             prefix="plone.app.collection.operation.path.isWithinRelative">
        <value key="title">Is within (relative)</value>
        <value key="description"></value>
        <value key="operation">plone.app.collection.queryparser:_pathContainsRelative</value>
        <value key="widget">RelativePathWidget</value>
    </records>

    <records interface="plone.app.collection.interfaces.IQueryOperation"
             prefix="plone.app.collection.operation.reference.is">
        <value key="title">Equals</value>
        <value key="description"></value>
        <value key="operation">plone.app.collection.queryparser:_referenceIs</value>
        <value key="widget">ReferenceWidget</value>
    </records>

    <records interface="plone.app.collection.interfaces.IQueryOperation"
             prefix="plone.app.collection.operation.string.contains">
        <value key="title">Contains</value>
        <value key="description"></value>
        <value key="operation">plone.app.collection.queryparser:_contains</value>
        <value key="widget">StringWidget</value>
    </records>

    <records interface="plone.app.collection.interfaces.IQueryOperation"
             prefix="plone.app.collection.operation.string.currentUser">
        <value key="title">Current logged in user</value>
        <value key="description">The user viewing the collection results</value>
        <value key="operation">plone.app.collection.queryparser:_currentUser</value>
        <value key="widget"></value>
    </records>

    <records interface="plone.app.collection.interfaces.IQueryOperation"
             prefix="plone.app.collection.operation.string.is">
        <value key="title">Is</value>
        <value key="description">Tip: you can use * to autocomplete.</value>
        <value key="operation">plone.app.collection.queryparser:_equal</value>
        <value key="widget">StringWidget</value>
    </records>
    
    <records interface="plone.app.collection.interfaces.IQueryOperation"
             prefix="plone.app.collection.operation.selection.is">
        <value key="title">Is</value>
        <value key="description">Tip: you can use * to autocomplete.</value>
        <value key="operation">plone.app.collection.queryparser:_equal</value>
        <value key="widget">MultipleSelectionWidget</value>
    </records>

    <records interface="plone.app.collection.interfaces.IQueryOperation"
             prefix="plone.app.collection.operation.string.path">
        <value key="title">Path (URL)</value>
        <value key="description">Location in the site structure</value>
        <value key="operation">plone.app.collection.queryparser:_path</value>
        <value key="widget">ReferenceWidget</value>
    </records>
    
    <records interface="plone.app.collection.interfaces.IQueryOperation"
             prefix="plone.app.collection.operation.string.relativePath">
        <value key="title">Relative site path</value>
        <value key="description"></value>
        <value key="operation">plone.app.collection.queryparser:_relativePath</value>
        <value key="widget">RelativePathWidget</value>
    </records>

<!-- QueryField declarations  -->

    <records interface="plone.app.collection.interfaces.IQueryField"
             prefix="plone.app.collection.field.getId">
       <value key="title">Short name (id)</value>
       <value key="description">The short name of an item (used in the url)</value>
       <value key="enabled">True</value>
       <value key="sortable">True</value>
       <value key="operations">
            <element>plone.app.collection.operation.string.is</element>
       </value>
       <value key="group">Metadata</value>
    </records>

    <records interface="plone.app.collection.interfaces.IQueryField"
             prefix="plone.app.collection.field.allowedRolesAndUsers">
       <value key="title">Allowed Roles and Users</value>
       <value key="description">The roles and users with View permission on an item</value>
       <value key="enabled">True</value>
       <value key="sortable">False</value>
       <value key="operations">
           <element>plone.app.collection.operation.string.is</element>
           <element>plone.app.collection.operation.string.isCurrentUser</element>
       </value>
       <value key="group">Metadata</value>
    </records>

    <records interface="plone.app.collection.interfaces.IQueryField"
             prefix="plone.app.collection.field.created">
       <value key="title">Creation date</value>
       <value key="description">The date an item was created</value>
       <value key="enabled">True</value>
       <value key="sortable">True</value>
       <value key="operations">
           <element>plone.app.collection.operation.date.lessThan</element>
           <element>plone.app.collection.operation.date.largerThan</element>
           <element>plone.app.collection.operation.date.between</element>
           <element>plone.app.collection.operation.date.lessThanRelativeDate</element>
           <element>plone.app.collection.operation.date.largerThanRelativeDate</element>
       </value>
       <value key="group">Dates</value>
    </records>

    <records interface="plone.app.collection.interfaces.IQueryField"
             prefix="plone.app.collection.field.Creator">
        <value key="title">Creator</value>
        <value key="description">The person that created an item</value>
        <value key="enabled">True</value>
        <value key="sortable">True</value>
        <value key="operations">
            <element>plone.app.collection.operation.string.is</element>
            <element>plone.app.collection.operation.string.isCurrentUser</element>
        </value>
       <value key="group">Metadata</value>
    </records>
    
    <records interface="plone.app.collection.interfaces.IQueryField"
             prefix="plone.app.collection.field.Description">
        <value key="title">Description</value>
        <value key="description">An item's description</value>
        <value key="enabled">True</value>
        <value key="sortable">False</value>
        <value key="operations">
            <element>plone.app.collection.operation.string.contains</element>
        </value>
       <value key="group">Text</value>
    </records>
    
    <records interface="plone.app.collection.interfaces.IQueryField"
             prefix="plone.app.collection.field.effective">
        <value key="title">Effective date</value>
        <value key="description">The time and date an item was first published</value>
        <value key="enabled">True</value>
        <value key="sortable">True</value>
        <value key="operations">
            <element>plone.app.collection.operation.date.lessThan</element>
            <element>plone.app.collection.operation.date.largerThan</element>
            <element>plone.app.collection.operation.date.between</element>
            <element>plone.app.collection.operation.date.lessThanRelativeDate</element>
            <element>plone.app.collection.operation.date.largerThanRelativeDate</element>
        </value>
       <value key="group">Dates</value>
    </records>    

    <records interface="plone.app.collection.interfaces.IQueryField"
             prefix="plone.app.collection.field.effectiveRange">
        <value key="title">Effective range</value>
        <value key="description">Querying this is undefined</value>
        <value key="enabled">False</value>
        <value key="sortable">False</value>
        <value key="operations">
        </value>
       <value key="group">Dates</value>
    </records>    

    <records interface="plone.app.collection.interfaces.IQueryField"
             prefix="plone.app.collection.field.end">
        <value key="title">End date</value>
        <value key="description">The end date and time of an event</value>
        <value key="enabled">True</value>
        <value key="sortable">True</value>
        <value key="operations">
            <element>plone.app.collection.operation.date.lessThan</element>
            <element>plone.app.collection.operation.date.largerThan</element>
            <element>plone.app.collection.operation.date.between</element>
            <element>plone.app.collection.operation.date.lessThanRelativeDate</element>
            <element>plone.app.collection.operation.date.largerThanRelativeDate</element>
        </value>
       <value key="group">Dates</value>
    </records>    

    <records interface="plone.app.collection.interfaces.IQueryField"
             prefix="plone.app.collection.field.getObjPositionInParent">
        <value key="title">Order in folder</value>
        <value key="description">The order of an item in its parent folder</value>
        <value key="enabled">False</value>
        <value key="sortable">False</value>
        <value key="operations">    
            <element>plone.app.collection.operation.int.is</element>
            <element>plone.app.collection.operation.int.lessThan</element>
            <element>plone.app.collection.operation.int.greaterThan</element>
        </value>
       <value key="group">Metadata</value>
    </records>
    
    <records interface="plone.app.collection.interfaces.IQueryField"
             prefix="plone.app.collection.field.getRawRelatedItems">
        <value key="title">Related To</value>
        <value key="description">Find items related to the selected items</value>
        <value key="enabled">True</value>
        <value key="sortable">False</value>
        <value key="operations">
            <element>plone.app.collection.operation.reference.is</element>
        </value>
       <value key="group">Metadata</value>
    </records>    
    
<!--
    TODO What sort of operations will this need?
-->
    <records interface="plone.app.collection.interfaces.IQueryField"
             prefix="plone.app.collection.field.inReplyTo">
        <value key="title">In Reply To</value>
        <value key="description"></value>
        <value key="enabled">False</value>
        <value key="sortable">False</value>
        <value key="operations">
        </value>
       <value key="group">Metadata</value>
    </records>    
    
    <records interface="plone.app.collection.interfaces.IQueryField"
             prefix="plone.app.collection.field.isDefaultPage">
        <value key="title">Default Page</value>
        <value key="description">Find items that are the default view for their containing folder.</value>
        <value key="enabled">False</value>
        <value key="sortable">False</value>
        <value key="operations">
            <element>plone.app.collection.operation.boolean.isTrue</element>
            <element>plone.app.collection.operation.boolean.isFalse</element>
        </value>
       <value key="group">Metadata</value>
    </records>    

    <records interface="plone.app.collection.interfaces.IQueryField"
             prefix="plone.app.collection.field.isFolderish">
        <value key="title">Folder-like</value>
        <value key="description">Find items that can contain other objects</value>
        <value key="enabled">False</value>
        <value key="sortable">False</value>
        <value key="operations">
            <element>plone.app.collection.operation.boolean.isTrue</element>
            <element>plone.app.collection.operation.boolean.isFalse</element>
        </value>
       <value key="group">Metadata</value>
    </records>    

    <records interface="plone.app.collection.interfaces.IQueryField"
             prefix="plone.app.collection.field.modified">
        <value key="title">Modification date</value>
        <value key="description">The time and date an item was last modified</value>
        <value key="enabled">True</value>
        <value key="sortable">True</value>
        <value key="operations">
            <element>plone.app.collection.operation.date.lessThan</element>
            <element>plone.app.collection.operation.date.largerThan</element>
            <element>plone.app.collection.operation.date.between</element>
            <element>plone.app.collection.operation.date.lessThanRelativeDate</element>
            <element>plone.app.collection.operation.date.largerThanRelativeDate</element>
        </value>
       <value key="group">Dates</value>
    </records>    

    <records interface="plone.app.collection.interfaces.IQueryField"
             prefix="plone.app.collection.field.expires">
        <value key="title">Expiration date</value>
        <value key="description">The time and date an item was expired</value>
        <value key="enabled">True</value>
        <value key="sortable">True</value>
        <value key="operations">
            <element>plone.app.collection.operation.date.lessThan</element>
            <element>plone.app.collection.operation.date.largerThan</element>
            <element>plone.app.collection.operation.date.between</element>
            <element>plone.app.collection.operation.date.lessThanRelativeDate</element>
            <element>plone.app.collection.operation.date.largerThanRelativeDate</element>
        </value>
       <value key="group">Dates</value>
    </records>  
    
    <records interface="plone.app.collection.interfaces.IQueryField"
             prefix="plone.app.collection.field.portal_type">
        <value key="title">Type</value>
        <value key="description">An item's type (e.g. Event)</value>
        <value key="enabled">True</value>
        <value key="sortable">False</value>
        <value key="operations">
            <element>plone.app.collection.operation.selection.is</element>
        </value>
        <value key="vocabulary">plone.app.vocabularies.ReallyUserFriendlyTypes</value>
       <value key="group">Metadata</value>
    </records>
    
    <records interface="plone.app.collection.interfaces.IQueryField"
             prefix="plone.app.collection.field.review_state">
        <value key="title">Review state</value>
        <value key="description">An item's workflow state (e.g.published)</value>
        <value key="enabled">True</value>
        <value key="sortable">True</value>
        <value key="operations">
            <element>plone.app.collection.operation.selection.is</element>
        </value>
        <value key="vocabulary">plone.app.vocabularies.WorkflowStates</value>
       <value key="group">Metadata</value>
    </records>
    
    <records interface="plone.app.collection.interfaces.IQueryField"
             prefix="plone.app.collection.field.SearchableText">
        <value key="title">Searchable text</value>
        <value key="description">Text search of an item's contents</value>
        <value key="enabled">True</value>
        <value key="sortable">False</value>
        <value key="operations">
            <element>plone.app.collection.operation.string.contains</element>
        </value>
       <value key="group">Text</value>
    </records>

    <records interface="plone.app.collection.interfaces.IQueryField"
             prefix="plone.app.collection.field.sortable_title">
        <value key="title">Sortable Title</value>
        <value key="description">The item's title, transformed for sorting</value>
        <value key="enabled">False</value>
        <value key="sortable">True</value>
        <value key="operations">
            <element>plone.app.collection.operation.string.contains</element>
            <element>plone.app.collection.operation.string.is</element>
        </value>
       <value key="group">Text</value>
    </records>

    <records interface="plone.app.collection.interfaces.IQueryField"
             prefix="plone.app.collection.field.start">
        <value key="title">Event start date</value>
        <value key="description">The start date and time of an event</value>
        <value key="enabled">True</value>
        <value key="sortable">True</value>
        <value key="operations">
            <element>plone.app.collection.operation.date.lessThan</element>
            <element>plone.app.collection.operation.date.largerThan</element>
            <element>plone.app.collection.operation.date.between</element>
            <element>plone.app.collection.operation.date.lessThanRelativeDate</element>
            <element>plone.app.collection.operation.date.largerThanRelativeDate</element>
        </value>
       <value key="group">Dates</value>
    </records>    

    <records interface="plone.app.collection.interfaces.IQueryField"
             prefix="plone.app.collection.field.Subject">
        <value key="title">Category</value>
        <value key="description">Categories are used for organization of content</value>
        <value key="enabled">True</value>
        <value key="sortable">True</value>
        <value key="operations">
            <element>plone.app.collection.operation.selection.is</element>
        </value>
       <value key="vocabulary">plone.app.vocabularies.Keywords</value>
       <value key="group">Text</value>
    </records>

    <records interface="plone.app.collection.interfaces.IQueryField"
             prefix="plone.app.collection.field.Title">
        <value key="title">Title</value>
        <value key="description">Text search of an item's title</value>
        <value key="enabled">True</value>
        <value key="sortable">False</value>
        <value key="operations">
            <element>plone.app.collection.operation.string.contains</element>
        </value>
       <value key="group">Text</value>
    </records>

</registry>
